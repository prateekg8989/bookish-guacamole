{"ast":null,"code":"import _slicedToArray from\"/home/prateek/installation/bfsi/java/case_Study/loginform-cognito/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./EditAgent.css\";import React,{useEffect,useState}from\"react\";import{faTrash,faPencilAlt}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import{Form,Row,Col,Button,InputGroup,Image}from\"react-bootstrap\";import{getAgentByEmail,editAgent}from\"../../reducers/AgentReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAgent(){var _useParams=useParams(),email=_useParams.email;var dispatch=useDispatch();useEffect(function(){dispatch(getAgentByEmail(email));},[email]);var _useSelector=useSelector(function(state){return state.agent;}),agentByEmail=_useSelector.agentByEmail,loading=_useSelector.loading;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email1=_useState4[0],setEmail1=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),address=_useState8[0],setAddress=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),dob=_useState10[0],setDob=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),crmId=_useState12[0],setCrmId=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),teleCallingId=_useState14[0],setTeleCallingId=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),licenseUrnNo=_useState16[0],setLicenseUrnNo=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),licenseIssueDate=_useState18[0],setLicenseIssueDate=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),licenseExpiryDate=_useState20[0],setLicenseExpiryDate=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isEditable=_useState22[0],setisEditable=_useState22[1];useEffect(function(){if(!loading&&agentByEmail&&Object.keys(agentByEmail).length>0){setUserId(agentByEmail.userId);setEmail1(agentByEmail.email);setName(agentByEmail.name);setAddress(agentByEmail.address);console.log(\"dob:- \"+agentByEmail.dob+\" === \"+agentByEmail.dob?new Date(agentByEmail.dob):agentByEmail.dob);setDob(agentByEmail.dob?new Date(agentByEmail.dob):agentByEmail.dob);setCrmId(agentByEmail.crmId);setTeleCallingId(agentByEmail.teleCallingId);setLicenseUrnNo(agentByEmail.licenseUrnNo);setLicenseIssueDate(agentByEmail.licenseIssueDate?new Date(agentByEmail.licenseIssueDate):agentByEmail.licenseIssueDate);setLicenseExpiryDate(agentByEmail.licenseExpiryDate?new Date(agentByEmail.licenseExpiryDate):agentByEmail.licenseExpiryDate);}},[loading]);var handleEditSubmitClicked=function handleEditSubmitClicked(){if(agentByEmail&&agentByEmail[\"email\"]&&email1){var obj={email:email1,name:name,address:address,dob:dob?dob.valueOf():null,crmId:crmId,teleCallingId:teleCallingId,licenseUrnNo:licenseUrnNo,licenseIssueDate:licenseIssueDate?licenseIssueDate.valueOf():null,licenseExpiryDate:licenseExpiryDate?licenseExpiryDate.valueOf():null};console.log(obj);dispatch(editAgent(obj));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end pr-4 mb-3\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"cursor-pointer\",icon:faPencilAlt,onClick:function onClick(){return setisEditable(true);}})}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput1\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"Email\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{required:true,disabled:true,type:\"text\",value:email1,placeholder:\"Enter the email\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput2\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"Name\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{disabled:!isEditable,required:true,type:\"text\",value:name,onChange:function onChange(event){return setName(event.target.value);},placeholder:\"Enter the name\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput3\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"DOB\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{disabled:!isEditable,required:true,value:dob==null?null:dob.toISOString().split(\"T\")[0],onChange:function onChange(event){return setDob(new Date(event.target.value));},type:\"date\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput4\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"CRM Id\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{disabled:!isEditable,value:crmId,onChange:function onChange(event){return setCrmId(event.target.value);},required:true,type:\"text\",placeholder:\"Enter the CRM-ID\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput5\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"Telecalling ID\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{disabled:!isEditable,value:teleCallingId,onChange:function onChange(event){return setTeleCallingId(event.target.value);},required:true,type:\"text\",placeholder:\"Enter the Telecalling-ID\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput6\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"Address\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{disabled:!isEditable,value:address,onChange:function onChange(event){return setAddress(event.target.value);},required:true,type:\"text\",placeholder:\"Enter the address\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput7\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"License URN no.\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{disabled:!isEditable,value:licenseUrnNo,onChange:function onChange(event){return setLicenseUrnNo(event.target.value);},required:true,type:\"text\",placeholder:\"Enter the license URN no\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput8\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"License Issue Date\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{disabled:!isEditable,value:licenseIssueDate==null?null:licenseIssueDate.toISOString().split(\"T\")[0],onChange:function onChange(event){return setLicenseIssueDate(new Date(event.target.value));},required:true,type:\"date\",placeholder:\"Enter the license issue date\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Row,controlId:\"exampleForm.ControlInput9\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:2,children:\"License Expiry Date\"}),/*#__PURE__*/_jsx(Col,{sm:10,className:\"pr-5\",children:/*#__PURE__*/_jsx(Form.Control,{disabled:!isEditable,value:licenseExpiryDate==null?null:licenseExpiryDate.toISOString().split(\"T\")[0],onChange:function onChange(event){return setLicenseExpiryDate(new Date(event.target.value));},required:true,type:\"date\",placeholder:\"Enter the license expiry date\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 textEnd pr-4\",children:/*#__PURE__*/_jsx(Button,{disabled:!isEditable,variant:\"primary\",type:\"button\",onClick:handleEditSubmitClicked,children:\"Submit\"})})]})]});}export default EditAgent;","map":{"version":3,"sources":["/home/prateek/installation/bfsi/java/case_Study/loginform-cognito/src/Agent/EditAgent/EditAgent.jsx"],"names":["React","useEffect","useState","faTrash","faPencilAlt","FontAwesomeIcon","useDispatch","useSelector","useParams","Form","Row","Col","Button","InputGroup","Image","getAgentByEmail","editAgent","EditAgent","email","dispatch","state","agent","agentByEmail","loading","userId","setUserId","email1","setEmail1","name","setName","address","setAddress","dob","setDob","crmId","setCrmId","teleCallingId","setTeleCallingId","licenseUrnNo","setLicenseUrnNo","licenseIssueDate","setLicenseIssueDate","licenseExpiryDate","setLicenseExpiryDate","isEditable","setisEditable","Object","keys","length","console","log","Date","handleEditSubmitClicked","obj","valueOf","event","target","value","toISOString","split"],"mappings":"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","sourcesContent":["import \"./EditAgent.css\";\nimport React, { useEffect, useState } from \"react\";\nimport { faTrash, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { Form, Row, Col, Button, InputGroup, Image } from \"react-bootstrap\";\nimport { getAgentByEmail, editAgent } from \"../../reducers/AgentReducer\";\nfunction EditAgent() {\n  let { email } = useParams();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getAgentByEmail(email));\n  }, [email]);\n  const { agentByEmail, loading } = useSelector((state) => state.agent);\n  const [userId, setUserId] = useState(\"\");\n  const [email1, setEmail1] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [dob, setDob] = useState(null);\n  const [crmId, setCrmId] = useState(\"\");\n  const [teleCallingId, setTeleCallingId] = useState(\"\");\n  const [licenseUrnNo, setLicenseUrnNo] = useState(\"\");\n  const [licenseIssueDate, setLicenseIssueDate] = useState(null);\n  const [licenseExpiryDate, setLicenseExpiryDate] = useState(null);\n\n  const [isEditable, setisEditable] = useState(false);\n  useEffect(() => {\n    if (!loading && agentByEmail && Object.keys(agentByEmail).length > 0) {\n      setUserId(agentByEmail.userId);\n      setEmail1(agentByEmail.email);\n      setName(agentByEmail.name);\n      setAddress(agentByEmail.address);\n      console.log(\n        \"dob:- \" + agentByEmail.dob + \" === \" + agentByEmail.dob\n          ? new Date(agentByEmail.dob)\n          : agentByEmail.dob\n      );\n      setDob(agentByEmail.dob ? new Date(agentByEmail.dob) : agentByEmail.dob);\n      setCrmId(agentByEmail.crmId);\n      setTeleCallingId(agentByEmail.teleCallingId);\n      setLicenseUrnNo(agentByEmail.licenseUrnNo);\n      setLicenseIssueDate(\n        agentByEmail.licenseIssueDate\n          ? new Date(agentByEmail.licenseIssueDate)\n          : agentByEmail.licenseIssueDate\n      );\n      setLicenseExpiryDate(\n        agentByEmail.licenseExpiryDate\n          ? new Date(agentByEmail.licenseExpiryDate)\n          : agentByEmail.licenseExpiryDate\n      );\n    }\n  }, [loading]);\n\n  const handleEditSubmitClicked = () => {\n    if (agentByEmail && agentByEmail[\"email\"] && email1) {\n      let obj = {\n        email: email1,\n        name,\n        address,\n        dob: dob ? dob.valueOf() : null,\n        crmId,\n        teleCallingId,\n        licenseUrnNo,\n        licenseIssueDate: licenseIssueDate ? licenseIssueDate.valueOf() : null,\n        licenseExpiryDate: licenseExpiryDate\n          ? licenseExpiryDate.valueOf()\n          : null,\n      };\n      console.log(obj);\n      dispatch(editAgent(obj));\n    }\n  };\n\n  return (\n    <div className=\"p-3\">\n      <div className=\"d-flex justify-content-end pr-4 mb-3\">\n        <FontAwesomeIcon\n          className=\"cursor-pointer\"\n          icon={faPencilAlt}\n          onClick={() => setisEditable(true)}\n        />\n      </div>\n      <Form>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput1\">\n          <Form.Label column sm={2}>\n            Email\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              required\n              disabled={true}\n              type=\"text\"\n              value={email1}\n              placeholder=\"Enter the email\"\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput2\">\n          <Form.Label column sm={2}>\n            Name\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              disabled={!isEditable}\n              required\n              type=\"text\"\n              value={name}\n              onChange={(event) => setName(event.target.value)}\n              placeholder=\"Enter the name\"\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput3\">\n          <Form.Label column sm={2}>\n            DOB\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              disabled={!isEditable}\n              required\n              value={dob == null ? null : dob.toISOString().split(\"T\")[0]}\n              onChange={(event) => setDob(new Date(event.target.value))}\n              type=\"date\"\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput4\">\n          <Form.Label column sm={2}>\n            CRM Id\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              disabled={!isEditable}\n              value={crmId}\n              onChange={(event) => setCrmId(event.target.value)}\n              required\n              type=\"text\"\n              placeholder=\"Enter the CRM-ID\"\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput5\">\n          <Form.Label column sm={2}>\n            Telecalling ID\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              disabled={!isEditable}\n              value={teleCallingId}\n              onChange={(event) => setTeleCallingId(event.target.value)}\n              required\n              type=\"text\"\n              placeholder=\"Enter the Telecalling-ID\"\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput6\">\n          <Form.Label column sm={2}>\n            Address\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              disabled={!isEditable}\n              value={address}\n              onChange={(event) => setAddress(event.target.value)}\n              required\n              type=\"text\"\n              placeholder=\"Enter the address\"\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput7\">\n          <Form.Label column sm={2}>\n            License URN no.\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              disabled={!isEditable}\n              value={licenseUrnNo}\n              onChange={(event) => setLicenseUrnNo(event.target.value)}\n              required\n              type=\"text\"\n              placeholder=\"Enter the license URN no\"\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput8\">\n          <Form.Label column sm={2}>\n            License Issue Date\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              disabled={!isEditable}\n              value={\n                licenseIssueDate == null\n                  ? null\n                  : licenseIssueDate.toISOString().split(\"T\")[0]\n              }\n              onChange={(event) =>\n                setLicenseIssueDate(new Date(event.target.value))\n              }\n              required\n              type=\"date\"\n              placeholder=\"Enter the license issue date\"\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group as={Row} controlId=\"exampleForm.ControlInput9\">\n          <Form.Label column sm={2}>\n            License Expiry Date\n          </Form.Label>\n          <Col sm={10} className=\"pr-5\">\n            <Form.Control\n              disabled={!isEditable}\n              value={\n                licenseExpiryDate == null\n                  ? null\n                  : licenseExpiryDate.toISOString().split(\"T\")[0]\n              }\n              onChange={(event) =>\n                setLicenseExpiryDate(new Date(event.target.value))\n              }\n              required\n              type=\"date\"\n              placeholder=\"Enter the license expiry date\"\n            />\n          </Col>\n        </Form.Group>\n\n        <div className=\"w-100 textEnd pr-4\">\n          <Button disabled={!isEditable} variant=\"primary\" type=\"button\" onClick={handleEditSubmitClicked}>\n            Submit\n          </Button>\n        </div>\n      </Form>\n    </div>\n  );\n}\n\nexport default EditAgent;\n"]},"metadata":{},"sourceType":"module"}